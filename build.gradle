plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.5.0'
    id 'com.github.johnrengelman.shadow' version '6.0.0'
}

//noinspection GroovyUnusedAssignment
sourceCompatibility = targetCompatibility = JavaVersion.VERSION_1_8
compileJava.options.encoding 'UTF-8'

group 'me.dkim19375'
version '2.2.8'

//noinspection GrUnresolvedAccess
compileKotlin.kotlinOptions {
    languageVersion = "1.5"
    jvmTarget = '1.8'
}

repositories {
    mavenCentral()
    maven { url = 'https://m2.dv8tion.net/releases' }
}

dependencies {
    compileOnly 'net.dv8tion:JDA:4.2.1_262'
    api 'commons-io:commons-io:2.8.0'
    api 'org.apache.commons:commons-lang3:3.12.0'
}

task copyFileToBot(type: Copy) {
    new File('../UniG0/libs/' + project.name + '-' + project.version + '-all.jar').delete()
    from('build/libs/' + project.name + '-' + project.version + '-all.jar')
    into('../UniG0/libs')
    include('*.jar')
}

shadowJar.finalizedBy copyFileToBot